you have 3 deployment choices:

- AWS Serverless Application Repository deployment of latest release
- Stand alone deployment from local copy of Number6 repository
- Create a deployment pipeline that is triggered by a GitHub web hook. 
  - This requires 2 accounts
  - a "test" account to build the application on each push and a "production" account to deploy the new version to. 
  - the 2 accounts can have different Slack channels to post their reports back to
  - The deployment to the prod account is a manual accept/reject step.

## AWS Serverless Application Repository

This is simply a case of going to the SAR in the console (make sure you're using the intended account and in the intended region) and finding Number6 (you'll need to check the `Show apps that create custom IAM roles or resource policies` option for Number6 to show up) and choosing to deploy it. 

You will need to manually store your Slack app's OAuth token in AWS Secrets Manager first:

- in the AWS console go to AWS Secrets Manager and click `store a new secret`
- choose the `other types of secret` radio button
- select the `plaintext` tab
- the secret value is the OAuth token generated by Slack [when you created your app](./what_do_i_need.md), delete anything in the box that's pregenerated by the AWS console (any JSON formatting etc) and paste the token in
- leave the encryption key as default, select next
- the secret name can be anything you like but it will be a parameter to Number6 so something short and descriptive is advisable, `no6/slack`is a good choice.
- Click next, review the details and click 'store'

You'll need to supply the following parameters in the console before it will let you deploy:

- Application Name - this will default to Number6 if you leave it but you can call it anything you like

- BlacklistedChannels - this is a single CSV string of channel names (

  not ids e.g. `meta,announcements,trumptweets`) that shouldn't be analysed by Number6

  - This is useful if you have channels with just bot traffic or something similar where it doesn't make sense to perform any semantic analysis. 
  - You'll probably want to include Number6's output channel in this.

- SlackTokenSecretName - the is the name used to store the Slack OAuth token in AWS Secrets Manager that you created earlier

- EnvType - this must be either `prod` or `test` the difference is that creating a `prod` stack will run Number6 at 1am every day analysing the previous day's messages. If you create a `test` stack then it will only ever run when manually triggered and analyse the messages from whatever date you give it